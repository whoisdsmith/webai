# Custom Instructions for GitHub Copilot in VS Code

Enhance Copilot's chat responses by providing contextual details about your team's workflow, tools, or project specifics. Instead of including this context manually in every chat query, create a *custom instructions* file to automatically incorporate it into every chat request.

Copilot applies these instructions in the Chat view, Quick Chat, or Inline Chat. These instructions are not displayed in the chat but are passed to Copilot by VS Code.

## Purpose of Custom Instructions

### Code-Generation Instructions

Provide specific guidelines for generating code. Examples:

- Prefix private variables with an underscore.
- Use singletons in a particular way.

### Test-Generation Instructions

Offer guidance for generating tests. Examples:

- Use a specific testing framework for all generated tests.

### Code Review Instructions

Focus the review on specific criteria, such as identifying a particular type of error in the code.

### Commit Message Generation Instructions

Define rules for generating commit messages, such as formatting or required elements.

Custom instructions should be short, self-contained statements that add context or relevant information to supplement chat questions.

______________________________________________________________________

## Define Code-Generation Custom Instructions

Copilot can help generate code for refactoring, unit tests, or feature implementation while adhering to your coding standards.

### Use Settings

Define custom code-generation instructions using the `github.copilot.chat.codeGeneration.instructions` setting. You can set instructions at the User or Workspace level, and specify language-specific instructions.

#### Example: `settings.json`

```json
"github.copilot.chat.codeGeneration.instructions": \[
{
"text": "Always add a comment: 'Generated by Copilot'."
},
{
"text": "In TypeScript, always use underscores for private field names."
},
{
"file": "code-style.md" // Import instructions from the `code-style.md` file
}
\]
```

#### Example: `code-style.md`

markdown

Always use React functional components.

Always add comments.

______________________________________________________________________

### Use a `.github/copilot-instructions.md` File

Store custom instructions in `.github/copilot-instructions.md` at the root of your workspace. This file can be shared across VS Code and Visual Studio.

1. Enable the `github.copilot.chat.codeGeneration.useInstructionFiles` setting.
1. Create the `.github/copilot-instructions.md` file.
1. Add natural language instructions.

______________________________________________________________________

## Define Test-Generation Custom Instructions

Guide Copilot to generate tests that align with your workflow.

### Example: `settings.json`

```json
"github.copilot.chat.testGeneration.instructions": \[
{
"text": "Always use vitest for testing React components."
},
{
"text": "Use Jest for testing JavaScript code."
},
{
"file": "test-guidelines.md"
}
\]
```

______________________________________________________________________

## Define Code Review Custom Instructions

Help Copilot review code with project-specific criteria using the `github.copilot.chat.reviewSelection.instructions` setting.

______________________________________________________________________

## Define Commit Message Generation Custom Instructions

Define rules for commit messages using the `github.copilot.chat.commitMessageGeneration.instructions` setting.

______________________________________________________________________

## Tips for Defining Custom Instructions

- **Be concise**: Each instruction should be a single, simple statement.
- **Avoid external references**: Do not link to external resources.
- **Shareable and version-controlled**: Use external files to share instructions across projects and track changes over time.

______________________________________________________________________

## Settings Overview

- `github.copilot.chat.codeGeneration.instructions`: Instructions for generating code.
- `github.copilot.chat.codeGeneration.useInstructionFiles`: Enables `.github/copilot-instructions.md` usage.
- `github.copilot.chat.testGeneration.instructions`: Instructions for generating tests.
- `github.copilot.chat.reviewSelection.instructions`: Instructions for reviewing code.
- `github.copilot.chat.commitMessageGeneration.instructions`: Instructions for commit message generation.

For more details, visit the [documentation](https://code.visualstudio.com/docs/copilot/copilot-customization).

______________________________________________________________________

# Adding Custom Instructions for GitHub Copilot - GitHub Docs

______________________________________________________________________

You can create a file that automatically adds information to all questions you ask Copilot Chat.

Note

- This feature is currently in public preview and is subject to change.
- Custom instructions are currently only supported for Copilot Chat in VS Code and Visual Studio.

## [About custom instructions for GitHub Copilot](https://docs.github.com/en/copilot/customizing-copilot/adding-custom-instructions-for-github-copilot#about-custom-instructions-for-github-copilot)

GitHub Copilot can provide chat responses that are tailored to the way your team works, the tools you use, or the specifics of your project, if you provide it with enough context to do so. Instead of repeatedly adding this contextual detail to your chat questions, you can create a file that automatically adds this information for you. The additional information is not displayed in the chat, but is available to Copilot to allow it to generate higher quality responses.

## [Prerequisites](https://docs.github.com/en/copilot/customizing-copilot/adding-custom-instructions-for-github-copilot#prerequisites)

- A custom instructions file (see the instructions below).

- The **Use Instruction Files** (VS Code) or **Enable custom instructions** (Visual Studio) option enabled in your settings. See [Enabling or disabling custom instructions](https://docs.github.com/en/copilot/customizing-copilot/adding-custom-instructions-for-github-copilot#enabling-or-disabling-custom-instructions) later in this article.

Note

  The setting is enabled by default in VS Code and disabled by default in Visual Studio.

## [Creating a custom instructions file](https://docs.github.com/en/copilot/customizing-copilot/adding-custom-instructions-for-github-copilot#creating-a-custom-instructions-file)

1. In the root of your repository, create a file named `.github/copilot-instructions.md`.

   Create the `.github` directory if it does not already exist.

1. Add natural language instructions to the file, in Markdown format.

   Whitespace between instructions is ignored, so the instructions can be written as a single paragraph, each on a new line, or separated by blank lines for legibility.

## [Sample instructions](https://docs.github.com/en/copilot/customizing-copilot/adding-custom-instructions-for-github-copilot#sample-instructions)

This example of a `.github/copilot-instructions.md` file contains three instructions that will be added to all chat questions.

```markdown
We use Bazel for managing our Java dependencies, not Maven, so when talking about Java packages, always give me instructions and code samples that use Bazel. We always write JavaScript with double quotes and tabs for indentation, so when your responses include JavaScript code, please follow those conventions. Our team uses Jira for tracking items of work.
```

## [Writing effective custom instructions](https://docs.github.com/en/copilot/customizing-copilot/adding-custom-instructions-for-github-copilot#writing-effective-custom-instructions)

The instructions you add to the `.github/copilot-instructions.md` file should be short, self-contained statements that add context or relevant information to supplement users' chat questions.

The following types of instructions are unlikely to work as desired and may cause problems with other areas of Copilot:

- Requests to refer to external resources when formulating a response
- Instructions to answer in a particular style
- Requests to always respond with a certain level of detail

The following instructions are therefore unlikely to have the intended result:

```markdown
Always conform to the coding styles defined in styleguide.md in repo my-org/my-repo when generating code. Use @terminal when answering questions about Git. Answer all questions in the style of a friendly colleague, using informal language. Answer all questions in less than 1000 characters, and words of no more than 12 characters.
```

## [Custom instructions in use](https://docs.github.com/en/copilot/customizing-copilot/adding-custom-instructions-for-github-copilot#custom-instructions-in-use)

The instructions in the `.github/copilot-instructions.md` file are available for use by Copilot Chat as soon as you save the file. The complete set of instructions will be automatically attached to requests that you submit in either the Copilot Chat view, or in inline chat, in VS Code and Visual Studio.

Custom instructions are not visible in the Chat view or inline chat, but you can verify that they are being used by Copilot by looking at the References list of a response. If custom instructions were added to the prompt that was sent to the model, the `.github/copilot-instructions.md` file is listed as a reference. You can click the reference to open the file.

![Screenshot of the Copilot Chat view in VS Code with a reference for the copilot-instructions.md file.](https://docs.github.com/assets/cb-57300/images/help/copilot/custom-instructions-vscode.png)

## [Enabling or disabling custom instructions](https://docs.github.com/en/copilot/customizing-copilot/adding-custom-instructions-for-github-copilot#enabling-or-disabling-custom-instructions)

You can choose whether or not to have custom instructions added to your chat questions. To do this, select or clear the option in the settings for the Copilot extension.

### [In VS Code](https://docs.github.com/en/copilot/customizing-copilot/adding-custom-instructions-for-github-copilot#in-vs-code)

1. Open the Setting editor by using the keyboard shortcut Command+, (Mac) / Ctrl+, (Linux/Windows).
1. Type `instruction file` in the search box.
1. Select or clear the checkbox under **Code Generation: Use Instruction Files**.

### [In Visual Studio](https://docs.github.com/en/copilot/customizing-copilot/adding-custom-instructions-for-github-copilot#in-visual-studio)

1. In the Visual Studio menu bar, under **Tools**, click **Options**.

![Screenshot of the Visual Studio menu bar. The "Tools" menu is expanded, and the "Options" item is highlighted with an orange outline.](https://docs.github.com/assets/cb-37169/images/help/copilot/vs-toolbar-options.png)

1. In the "Options" dialog, type `custom instructions` in the search box.

1. Select or clear the checkbox for **(Preview) Enable custom instructions to be loaded from.github/copilot-instructions.md files and added to requests**.


